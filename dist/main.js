!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const r=function(e){return function(e){var t=Math.floor((new Date-e)/1e3),n=t/31536e3;if(n>1)return Math.floor(n)+" years ago";if((n=t/2592e3)>1)return Math.floor(n)+" months ago";if((n=t/86400)>1)return Math.floor(n)+" days ago";if((n=t/3600)>1)return Math.floor(n)+" hours ago";if((n=t/60)>1)return Math.floor(n)+" minutes ago";return Math.floor(t)+" seconds ago"}(new Date(1e3*e))};function o(e,t,n){var r=new XMLHttpRequest;r.addEventListener("load",e=>t({event:e,index:n})),r.open("GET","https://hacker-news.firebaseio.com/v0/item/"+e+".json"),r.send()}const s=function(e,t=!1){const n=[];e.kids&&(e.kids.forEach((e,t)=>{const r=new Promise(n=>{o(e,n,t)});n.push(r)}),Promise.all(n).then(e=>{e.forEach(e=>function({event:e},t){const n=JSON.parse(e.currentTarget.response.replace(/<[^>]+>/g,"")),o=document.createElement("div");let a;o.setAttribute("class","comment"),o.setAttribute("id","comment-"+n.id),o.innerHTML=(({by:e,id:t,kids:n,parent:o,text:s,time:a,type:i})=>`<div class="comment-header small-text">\n<span class="comment-by">${e}</span>\n<span class="comment-time">${r(a)}</span>\n</div>\n<div class="comment-text">${s}</div>\n`)(n),a=t?document.getElementById("comment-"+n.parent):document.getElementById("story-"+n.parent);a.appendChild(o),n.kids&&n.kids.forEach(e=>s(e,!0))}(e,t))}))};const a=function(e,t){const n=document.createElement("div");n.setAttribute("id","story-"+e.id),n.setAttribute("class","story-row"),n.innerHTML=(({by:e,descendants:t,id:n,kids:o,score:s,time:a,title:i,type:c,url:l},d)=>{let u=null;try{u=new URL(l)}catch(e){console.log("bad url")}return`<div class="title">\n  <span class="rank">${d+1}.</span>\n  <a ${u?"href="+u.href:""} target="_blank">${i}</a> ${u?`<a class="small-text small-link" target="_blank" href="https://${u.hostname}">(${u.hostname})</a>`:""}\n  </div>\n          <div class="container-substory small-text">\n          <div class="score">${s} points</div>\n          <div class="by"> by ${e}</div>\n          <div class="since">${r(a)}</div>\n          ${t>0?`| <a class="small-link comments">${t} comments</a>`:""}\n  </div>`})(e,t);const o=n.getElementsByClassName("comments");if(o.length){const t=()=>{o[0].removeEventListener("click",t),s(e)};o[0].addEventListener("click",t)}return n},i=document.getElementById("spinner");function c({event:e,index:t}){var n=JSON.parse(e.currentTarget.response.replace(/<[^>]+>/g,""));document.querySelector("#items-list").appendChild(a(n,t))}let l,d=[];function u(e){d=JSON.parse(e.currentTarget.response),f()}!function(e){var t=new XMLHttpRequest;t.addEventListener("load",e),t.open("GET","https://hacker-news.firebaseio.com/v0/topstories.json"),t.send()}(u),l=document.getElementById("more-button"),l.addEventListener("click",f);let m=0;function f(){i.style.display="block";const e=[];for(let t=0;t<2&&m+t<d.length;t++){const n=new Promise(e=>{o(d[m+t],e,m+t)});e.push(n)}Promise.all(e).then(e=>{e.forEach(c),i.style.display="none"}),m+=2,console.log(m+" "+d.length),m>=d.length&&(l.disabled=!0,l.innerText="no more top stories")}}]);